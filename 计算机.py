import time
import os
import sys

# å®šä¹‰é¢œè‰²
ç²‰ = "\033[95m"
è“ = "\033[94m"
é’ = "\033[96m"
çº¢ = "\033[91m"
äº®ç™½ = "\033[97m"
é‡ç½® = "\033[0m"

def æ¸…å±():
    os.system("clear" if os.name == "posix" else "cls")

def æ‰“å°æ¸å˜(text, delay=0.04, color=ç²‰):
    for char in text:
        sys.stdout.write(f"{color}{char}{é‡ç½®}")
        sys.stdout.flush()
        time.sleep(delay)
    print()

def çˆ±å¿ƒåŠ¨ç”»():
    hearts = [
        f"{çº¢}      ğŸ’–         ğŸ’–       ",
        f"{çº¢}   ğŸ’—     ğŸ’—   ğŸ’—     ğŸ’—    ",
        f"{çº¢}ğŸ’“   ğŸ’ åˆ˜å©§ä»ª ğŸ’   ğŸ’“",
        f"{çº¢}   ğŸ’—     ğŸ’—   ğŸ’—     ğŸ’—    ",
        f"{çº¢}      ğŸ’–         ğŸ’–       {é‡ç½®}"
    ]
    for i in range(3):
        æ¸…å±()
        for line in hearts:
            print(line)
        time.sleep(0.5)
        æ¸…å±()
        time.sleep(0.3)

def å½©è›‹():
    æ¸…å±()
    çˆ±å¿ƒåŠ¨ç”»()
    æ‰“å°æ¸å˜("ğŸ’˜ è‡´æˆ‘æœ€çˆ±çš„å¥³å­©ï¼šåˆ˜å©§ä»ª ğŸ’˜", 0.07, è“)
    print()
    æ‰“å°æ¸å˜("ä½ æ˜¯æˆ‘å¿ƒä¸­çš„å…‰ï¼Œæ˜¯æˆ‘æ¯ä¸€å¤©çš„æœŸå¾…ä¸æ¬¢å–œã€‚", 0.04)
    æ‰“å°æ¸å˜("ä½ ç¬‘çš„æ ·å­ï¼Œæ˜¯ä¸–ç•Œä¸Šæœ€ç¾çš„é£æ™¯ã€‚", 0.04)
    æ‰“å°æ¸å˜("æˆ‘å¸Œæœ›æœªæ¥çš„æ—¥å­é‡Œï¼Œæœ‰ä½ ã€æœ‰æˆ‘ã€æœ‰æˆ‘ä»¬ã€‚", 0.04)
    print()
    æ‰“å°æ¸å˜("ğŸ’Œ çˆ±ä½ çš„ â€”â€” å•Šæ³ å¥½å›°æƒ³ç¡è§‰", 0.06, é’)
    print()
    input(f"{äº®ç™½}æŒ‰ä¸‹å›è½¦ç»§ç»­ä½¿ç”¨å°‘å¥³è®¡ç®—å™¨å§å–µ~{é‡ç½®}")
    æ¸…å±()

def æ‰“å°æ¬¢è¿ç•Œé¢():
    print(f"{ç²‰}â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®")
    print(f"â”‚              ğŸŒ¸ å°‘å¥³è®¡ç®—å™¨ç»ˆç«¯ç‰ˆ ğŸŒ¸             â”‚")
    print(f"â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯{é‡ç½®}")
    print(f"{è“}ä½œè€…ï¼šå¿«æ‰‹ï¼šå•Šæ³ å¥½å›°æƒ³ç¡è§‰{é‡ç½®}")
    print(f"{é’}æç¤ºï¼šè¾“å…¥ exit / quit å¯é€€å‡ºï¼Œ520 æœ‰å½©è›‹ï¼Œq è¿”å›èœå•~{é‡ç½®}\n")

def ç»ˆç«¯è®¡ç®—å™¨():
    æ¸…å±()
    æ‰“å°æ¬¢è¿ç•Œé¢()

    while True:
        è¡¨è¾¾å¼ = input(f"{ç²‰}â¤ è¯·è¾“å…¥ç®—å¼ï¼š{é‡ç½®}")
        if è¡¨è¾¾å¼.strip().lower() in ("exit", "quit"):
            æ‰“å°æ¸å˜("å†è§å–µ~ è®°å¾—æƒ³æˆ‘å’Œåˆ˜å©§ä»ªå“¦ ğŸ’•", delay=0.04, color=è“)
            break
        elif è¡¨è¾¾å¼.strip() == "520":
            å½©è›‹()
            æ‰“å°æ¬¢è¿ç•Œé¢()
        elif è¡¨è¾¾å¼.strip().lower() == "q":
            return  # è¿”å›ä¸»èœå•
        else:
            try:
                ç»“æœ = eval(è¡¨è¾¾å¼)
                print(f"{é’}= {ç»“æœ}{é‡ç½®}")
            except Exception:
                print(f"{çº¢}å‡ºé”™äº†å–µï¼Œè¯·æ£€æŸ¥æ ¼å¼~{é‡ç½®}")

def ä¸»èœå•():
    while True:
        æ¸…å±()
        print(f"{ç²‰}â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®")
        print(f"â”‚              ğŸŒ¸ å°‘å¥³è®¡ç®—å™¨å¯åŠ¨èœå• ğŸŒ¸             â”‚")
        print(f"â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯{é‡ç½®}")
        print(f"{è“}ä½œè€…ï¼šå¿«æ‰‹ï¼šå•Šæ³ å¥½å›°æƒ³ç¡è§‰{é‡ç½®}\n")
        print("1. å¯åŠ¨ç»ˆç«¯ç‰ˆ")
        print("2. æ£€æŸ¥æ›´æ–°")
        print("3. å¸è½½å°‘å¥³è®¡ç®—å™¨")
        print("4. é€€å‡º")
        print(f"{ç²‰}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•{é‡ç½®}")
        é€‰é¡¹ = input("è¯·è¾“å…¥é€‰é¡¹ â¤ ")

        if é€‰é¡¹ == "1":
            ç»ˆç«¯è®¡ç®—å™¨()
        elif é€‰é¡¹ == "2":
            os.system("$HOME/python/å¯åŠ¨è®¡ç®—æœº.sh")  # ç”¨ shell è„šæœ¬å¤„ç†æ›´æ–°
        elif é€‰é¡¹ == "3":
            print(f"{çº¢}æ­£åœ¨å¸è½½å°‘å¥³è®¡ç®—å™¨...{é‡ç½®}")
            os.system("rm -rf $HOME/python")
            os.system("sed -i '/å°‘å¥³è®¡ç®—å™¨/d' $HOME/.bashrc")
            print(f"{ç²‰}å¸è½½å®Œæˆï¼Œè¯·é‡å¯ Termuxï¼{é‡ç½®}")
            break
        elif é€‰é¡¹ == "4":
            print("å†è§å–µ~")
            break
        else:
            print("å–µï¼Ÿè¾“å…¥æ— æ•ˆï¼Œå†è¯•ä¸€æ¬¡~")
            time.sleep(1)

if __name__ == "__main__":
    ä¸»èœå•()
